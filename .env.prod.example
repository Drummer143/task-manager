# ===================
# Domain
# ===================
DOMAIN=example.com

# ===================
# Image tag (set by CI or manually)
# ===================
IMAGE_TAG=latest

# ===================
# PostgreSQL
# ===================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme
POSTGRES_DB_NAME=task_manager

DATABASE_URL=postgres://postgres:changeme@postgres:5432/task_manager

# ===================
# Authentik DB
# ===================
AUTHENTIK_DB_USER=authentik
AUTHENTIK_DB_NAME=authentik
AUTHENTIK_DB_PASSWORD=changeme

# ===================
# Authentik
# ===================
AUTHENTIK_SECRET_KEY=changeme
AUTHENTIK_SLUG=task-manager
AUTHENTIK_CLIENT_ID=changeme
AUTHENTIK_REDIRECT_URI=https://example.com/auth/callback
AUTHENTIK_REDIRECT_URI_SILENT=https://example.com/auth/silent-callback
AUTHENTIK_NOTIFICATION_WEBHOOK_USER_SYNC=http://main-service:8080/webhooks/authentik/user_sync
AUTHENTIK_JWKS_URL=http://authentik_server:9000/application/o/task-manager/jwks/
AUTHENTIK_AUDIENCE=changeme
AUTHENTIK_ISSUER=https://auth.example.com/application/o/task-manager/

# ===================
# RabbitMQ
# ===================
RABBITMQ_DEFAULT_USER=guest
RABBITMQ_DEFAULT_PASS=changeme
RABBITMQ_URL=amqp://guest:changeme@rmq:5672

# ===================
# Redis
# ===================
REDIS_URL=redis://redis:6379

# ===================
# Main Service
# ===================
MAIN_SERVICE_PORT=8080
JWT_SECRET=changeme

# ===================
# Storage Service
# ===================
STORAGE_SERVICE_PORT=8082
STORAGE_SERVICE_HOST=0.0.0.0
STORAGE_SERVICE_STATIC_FOLDER_PATH=/static

# ===================
# Elixir Services
# ===================
SECRET_KEY_BASE=changeme_generate_with_mix_phx_gen_secret

# ===================
# Frontend (build-time, passed as GitHub Secrets)
# ===================
# VITE_AUTHORITY=https://auth.example.com/application/o/task-manager/
# VITE_CLIENT_ID=changeme
# VITE_REDIRECT_URI=https://example.com/callback
# VITE_POST_LOGOUT_REDIRECT_URI=https://example.com/
